# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Unity 6 (version 6000.3.5f1) 2D game project for Global Game Jam 2026, themed "Masks".

## Build & Run

This is a Unity project — open and run through Unity Editor (version 6000.3.5f1). No CLI build pipeline. Solution/csproj files are auto-generated by Unity.

- **Open project:** Unity Hub → open this directory
- **Play:** Press Play in Unity Editor
- **Tests:** Window > General > Test Runner (com.unity.test-framework 1.6.0)

## Architecture

- **Rendering:** Universal Render Pipeline 2D (URP 17.3.0) — configured in `Assets/Settings/Renderer2D.asset` and `Assets/Settings/UniversalRP.asset`
- **Networking:** Photon Fusion 2 — see `Docs/PhotonFusion2.md` for full API reference
- **Input:** New Input System (1.17.0) via `Assets/InputSystem_Actions.inputactions` — pre-configured Player action map with Move, Look, Attack, Interact (hold), Crouch, Jump, Sprint, Previous/Next for keyboard/mouse and gamepad
- **Async:** UniTask (2.5.10) via OpenUPM scoped registry — prefer UniTask over coroutines for async code
- **2D Tooling:** Sprite, Animation, Tilemap, SpriteShape, Aseprite/PSD importers available
- **Scenes:** `Assets/Scenes/SampleScene.unity` is the main scene

## Key Conventions

- C# scripts go under `Assets/` in appropriate subdirectories
- Editor-only scripts must be in `Editor/` folders to avoid build errors
- Color space is **Linear** (not Gamma) — affects shader and texture work
- Package dependencies managed in `Packages/manifest.json` (OpenUPM scoped registry for UniTask)
- Networked objects use `Runner.Spawn()` — never `GameObject.Instantiate()` for networked prefabs
- Use `[Networked]` auto-properties for synced state, RPCs for one-time cross-player events
- Use `NetworkBool` instead of `bool` and `NetworkString<_N>` instead of `string` in networked properties
